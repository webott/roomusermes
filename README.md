# roomusermes
PC微信机器人之实战分析微信@群成员

今天主要讲一下群的@功能，首先在OD里面，先去发送消息的地方加一个断点，然后在PC微信发个消息，发现已经断下来了，发送消息，当没有@的时候，参数传个0，当有@的时候，需要传被@人的wxid过去，
![image](https://user-images.githubusercontent.com/73727649/120095654-a0dcb100-c159-11eb-85f8-6b487d063cc1.png)
调试过程，可以看到传参数里面的内容，前面是被@的微信id，后面跟着内容，来到这个函数的头部，下一个断点，然后在微信群里@一下，然后一步一步向下面走，看在哪里赋值的，当走到一个call的时候，里面不是空的了，是wxid，然后在这个call下一个断点看下，然后进入call里面走断点，看哪里赋值的，	
![image](https://user-images.githubusercontent.com/73727649/120095662-a89c5580-c159-11eb-85f6-176e7f4723f5.png)
然后一直走，发现里面有组装的一些信息，应该就是这个call了，里面一个是wxid，一个是装结构的缓冲区，紧接着的那个call非常有可能是，找到后，做一个实验，就是在PC微信群里直接发一个消息，不带@，然后修改eax 里面传个被@人的wxid，看下PC微信里面是否能收到一个带@的信息，最后发现是接收到一个@的消息，说明这个call就是@群成员的。
![image](https://user-images.githubusercontent.com/73727649/120095665-ae923680-c159-11eb-94de-030387245da9.png)
目前已经实现了大部分功能，运行稳定，比如：发各种消息，接收各种消息，群管，下载各种文件，加好友，检测僵尸粉等等功能，可提供接口，方便二次开发，欢迎技术交流。

![image](https://user-images.githubusercontent.com/73727649/120095673-bb168f00-c159-11eb-91f4-c9192b1fc9dd.png)
